@import "tailwindcss";

html {
  scroll-behavior: smooth;
}

/* iOS Safari viewport fixes */
@supports (height: 100dvh) {
  .h-screen-safe {
    height: 100dvh;
  }
  .min-h-screen-safe {
    min-height: 100dvh;
  }
}

@supports not (height: 100dvh) {
  .h-screen-safe {
    height: 100vh;
    height: -webkit-fill-available;
  }
  .min-h-screen-safe {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
}

/* iOS specific height fixes to prevent overlapping */
@media (max-width: 768px) {
  .h-screen-safe {
    /* Use actual viewport height on mobile to prevent overlap */
    height: 100vh !important;
    height: 100svh !important; /* Small viewport height for iOS */
  }
  
  .min-h-screen-safe {
    min-height: 100vh !important;
    min-height: 100svh !important;
  }
  
  /* Ensure sections don't overlap on iOS */
  section {
    position: relative;
    isolation: isolate;
  }
}

/* iOS scroll behavior improvements */
@media (max-width: 768px) {
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Scroll snap is now handled via responsive classes in HTML */
  
  /* Better touch handling */
  button, a, [role="button"] {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  
  /* Improved text rendering on iOS */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
  }
  
  /* Ensure minimum font sizes for readability */
  .text-xs { font-size: 0.75rem; }
  .text-sm { font-size: 0.875rem; }
  .text-base { font-size: 1rem; }
  .text-lg { font-size: 1.125rem; }
}

:root {
  --accent: #00D4FF;
}

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

html { color-scheme: dark; }
body { background-color: #0A0B10; color: #E6E7EB; }

/* Selection */
::selection { background: rgba(0,212,255,0.2); color: rgba(186,243,255,0.95); }

.noise::before { content: ""; position: absolute; inset: 0; pointer-events: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' opacity='0.05'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); }

/* Constellation overlay tames orbits */
.constellation-open [data-orb] { transition: transform .2s ease-out; }

/* Subtle aura pulse */
@keyframes aura { 0%,100%{ box-shadow: 0 0 40px rgba(34,211,238,.18);} 50%{ box-shadow: 0 0 80px rgba(34,211,238,.25);} }
.pulse-aura { animation: aura 6s ease-in-out infinite; }

/* Reduce animations on mobile and for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (max-width: 768px) {
  /* Reduce particle animations on mobile for better performance */
  [class*="animate-"] {
    animation-duration: 1s;
  }
}
